<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Comunidad IA BigSchool</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    .mobile-warning {
      display: none;
      background: #facc15;
      color: #1e293b;
      padding: 16px;
      text-align: center;
      border-radius: 8px;
      font-weight: 600;
      margin: 20px auto;
      max-width: 500px;
    }

    @media (max-width: 768px) {
      .mobile-warning {
        display: block;
      }
      .form-container {
        display: none;
      }
    }
  </style>
</head>
<body>
  
    <div class="mobile-warning">
      üì± Esta encuesta solo funciona correctamente desde un ordenador.<br>
      Por favor, accede desde un PC para rellenarla sin errores üôè
    </div>

    <section class="hero">
      <img src="https://thebigschool.com/wp-content/uploads/2024/05/BigSchool-Logo.svg" alt="BigSchool Logo">
      <h1>Conecta con tu comunidad del M√°ster de IA</h1>
      <p>¬øY si uno de tus compa√±eros del m√°ster est√° a solo unas calles? Rellena esta encuesta y descubre qu√© estudiantes de IA est√°n cerca de ti. Pod√©is compartir ideas, caf√©s, proyectos... ¬°y hasta montar una startup!</p>
      <div class="cta-buttons">
        <a href="#form" class="blue-btn">Quiero unirme</a>
        <a href="#form" class="yellow-btn">Conectar con otros alumnos</a>
      </div>
      <div class="info-grid">
        <div class="info-card">
          <img src="https://thebigschool.com/wp-content/uploads/2024/02/hourglass_553213-1.svg" alt="Duraci√≥n">
          <h4>DURACI√ìN</h4>
          <p>Toda la vida</p>
        </div>
        <div class="info-card">
          <img src="https://thebigschool.com/wp-content/uploads/2024/07/Calendar.svg" alt="Inicio">
          <h4>INICIO</h4>
          <p>Desde ya</p>
        </div>
        <div class="info-card">
          <img src="https://thebigschool.com/wp-content/uploads/2024/07/monitor_266121-1.svg" alt="Metodolog√≠a">
          <h4>METODOLOG√çA</h4>
          <p>Presencial y online</p>
        </div>
        <div class="info-card">
          <img src="https://thebigschool.com/wp-content/uploads/2024/06/price-tag_3770820-1.svg" alt="Precio">
          <h4>PRECIO</h4>
          <p>Gratis</p>
        </div>
      </div>
    </section>

    <div class="form-container" id="form">
      <h3>Rellena tu informaci√≥n</h3>
      <label for="nameInput">Tu nombre de Discord:</label>
      <input id="nameInput" type="text" required placeholder="@ejemplo#1234">

      <label for="countrySelect">Pa√≠s:</label>
      <select id="countrySelect" required>
        <option value="">Cargando pa√≠ses...</option>
      </select>

      <label for="citySelect">Ciudad o ciudad grande m√°s cercana:</label>
      <select id="citySelect" disabled required>
        <option value="">Seleccione un pa√≠s primero</option>
      </select>

      <button id="submitBtn">Enviar</button>
      <div class="success-message" id="message">¬°Gracias! Tu respuesta ha sido registrada.</div>
    </div>

    <script>
      const endpoint = "https://script.google.com/macros/s/AKfycbzE72rReiebxTQvdcTK6VSZDbGYE8V5vDOQ87cBx1_3fTxpVurzxha27v34YjDSRskT/exec";

      const nameInput = document.getElementById("nameInput");
      const countrySelect = document.getElementById("countrySelect");
      const citySelect = document.getElementById("citySelect");
      const message = document.getElementById("message");
      const button = document.getElementById("submitBtn");

      const countries = [
  "Afganist√°n", "Albania", "Alemania", "Andorra", "Angola", "Antigua y Barbuda", "Arabia Saudita", "Argelia", "Argentina", "Armenia",
  "Australia", "Austria", "Azerbaiy√°n", "Bahamas", "Banglad√©s", "Barbados", "Bar√©in", "B√©lgica", "Belice", "Ben√≠n",
  "Bielorrusia", "Birmania", "Bolivia", "Bosnia y Herzegovina", "Botsuana", "Brasil", "Brun√©i", "Bulgaria", "Burkina Faso", "Burundi",
  "Cabo Verde", "Camboya", "Camer√∫n", "Canad√°", "Catar", "Chad", "Chile", "China", "Chipre", "Ciudad del Vaticano",
  "Colombia", "Comoras", "Corea del Norte", "Corea del Sur", "Costa de Marfil", "Costa Rica", "Croacia", "Cuba", "Dinamarca", "Dominica",
  "Ecuador", "Egipto", "El Salvador", "Emiratos √Årabes Unidos", "Eritrea", "Eslovaquia", "Eslovenia", "Espa√±a", "Estados Unidos", "Estonia",
  "Esuatini", "Etiop√≠a", "Filipinas", "Finlandia", "Fiyi", "Francia", "Gab√≥n", "Gambia", "Georgia", "Ghana",
  "Granada", "Grecia", "Guatemala", "Guyana", "Guinea", "Guinea-Bis√°u", "Guinea Ecuatorial", "Hait√≠", "Honduras", "Hungr√≠a",
  "India", "Indonesia", "Irak", "Ir√°n", "Irlanda", "Islandia", "Islas Marshall", "Islas Salom√≥n", "Israel", "Italia",
  "Jamaica", "Jap√≥n", "Jordania", "Kazajist√°n", "Kenia", "Kirguist√°n", "Kiribati", "Kuwait", "Laos", "Lesoto",
  "Letonia", "L√≠bano", "Liberia", "Libia", "Liechtenstein", "Lituania", "Luxemburgo", "Madagascar", "Malasia", "Malaui",
  "Maldivas", "Mal√≠", "Malta", "Marruecos", "Mauricio", "Mauritania", "M√©xico", "Micronesia", "Moldavia", "M√≥naco",
  "Mongolia", "Montenegro", "Mozambique", "Namibia", "Nauru", "Nepal", "Nicaragua", "N√≠ger", "Nigeria", "Noruega",
  "Nueva Zelanda", "Om√°n", "Pa√≠ses Bajos", "Pakist√°n", "Palaos", "Panam√°", "Pap√∫a Nueva Guinea", "Paraguay", "Per√∫", "Polonia",
  "Portugal", "Reino Unido", "Rep√∫blica Centroafricana", "Rep√∫blica Checa", "Rep√∫blica del Congo", "Rep√∫blica Democr√°tica del Congo", "Rep√∫blica Dominicana", "Ruanda", "Ruman√≠a", "Rusia",
  "San Crist√≥bal y Nieves", "San Marino", "San Vicente y las Granadinas", "Santa Luc√≠a", "Santo Tom√© y Pr√≠ncipe", "Senegal", "Serbia", "Seychelles", "Sierra Leona", "Singapur",
  "Siria", "Somalia", "Sri Lanka", "Sud√°frica", "Sud√°n", "Sud√°n del Sur", "Suecia", "Suiza", "Surinam", "Tailandia",
  "Tanzania", "Tayikist√°n", "Timor Oriental", "Togo", "Tonga", "Trinidad y Tobago", "T√∫nez", "Turkmenist√°n", "Turqu√≠a", "Tuvalu",
  "Ucrania", "Uganda", "Uruguay", "Uzbekist√°n", "Vanuatu", "Venezuela", "Vietnam", "Yemen", "Yibuti", "Zambia", "Zimbabue"
];

countrySelect.innerHTML = '<option value="">-- Selecciona un pa√≠s --</option>';
countries.forEach(name => {
  const opt = document.createElement("option");
  opt.value = name;
  opt.textContent = name;
  countrySelect.appendChild(opt);
});

      countrySelect.addEventListener("change", async () => {
        const country = countrySelect.value;
        citySelect.disabled = true;
        citySelect.innerHTML = '<option value="">Cargando ciudades...</option>';

        const res = await fetch("https://countriesnow.space/api/v0.1/countries/cities", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ country })
        });
        const { data } = await res.json();
        citySelect.innerHTML = '<option value="">-- Selecciona una ciudad --</option>';
        data.forEach(city => {
          const opt = document.createElement("option");
          opt.value = city;
          opt.textContent = city;
          citySelect.appendChild(opt);
        });
        citySelect.disabled = false;
      });

      button.addEventListener("click", async () => {
        const name = nameInput.value.trim();
        const country = countrySelect.value;
        const city = citySelect.value;

        if (!name || !country || !city) {
          alert("Por favor completa todos los campos.");
          return;
        }

        button.disabled = true;
        button.textContent = "Enviando...";

        try {
          await fetch(endpoint, {
            method: "POST",
            body: new URLSearchParams({ name, country, city })
          });

          message.style.display = "block";
        } catch (err) {
          message.textContent = "Hubo un error. Int√©ntalo m√°s tarde.";
          message.style.display = "block";
          message.style.backgroundColor = "#dc2626";
          console.error(err);
        }

        nameInput.value = "";
        countrySelect.value = "";
        citySelect.innerHTML = '<option value="">Seleccione un pa√≠s primero</option>';
        citySelect.disabled = true;
        button.disabled = false;
        button.textContent = "Enviar";
      });
    </script>
  </div>
</body>
</html>


